(()=>{"use strict";var e={0(e){e.exports=window.wc.blocksCheckout},87(e){e.exports=window.wp.element},143(e){e.exports=window.wp.data},279(e){e.exports=window.wp.plugins},289(e,t,a){a.d(t,{A:()=>h});var o=a(609),c=a(87),s=a(723),n=a(143),r=a(594),l=a(703),i=a(592),m=a(334),d=a(953);let u=!1,f=null;const w=[".wc-block-checkout__use-address-for-billing"],p=({onDismiss:e})=>(0,o.createElement)("div",{className:"automaticffl-unavailable-notice"},(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-info automaticffl-unavailable-message"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v6h-2V8zm0 8h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},(0,o.createElement)("p",null,(0,o.createElement)("strong",null,(0,s.__)("Automatic FFL Unavailable","automaticffl-for-wc"))),(0,o.createElement)("p",null,(0,s.__)("Please contact our store after placing an order.","automaticffl-for-wc")),(0,o.createElement)("button",{type:"button",className:"wc-block-components-button wp-element-button",onClick:e},(0,s.__)("OK","automaticffl-for-wc")))))),h=()=>{const e=(()=>{let e=(0,l.getSetting)("automaticffl_data",null);return!e&&"undefined"!=typeof window&&window.automaticfflBlocksData&&(e=window.automaticfflBlocksData),e=e||{},{isFflCart:e.isFflCart||!1,hasFflProducts:e.hasFflProducts||!1,isMixedCart:e.isMixedCart||!1,iframeUrl:e.iframeUrl||"",allowedOrigins:e.allowedOrigins||[],userName:e.userName||{first_name:"",last_name:""},isConfigured:e.isConfigured||!1,hasFirearms:e.hasFirearms||!1,hasAmmo:e.hasAmmo||!1,isAmmoOnly:e.isAmmoOnly||!1,isAmmoEnabled:e.isAmmoEnabled||!1,ammoRestrictedStates:e.ammoRestrictedStates||[],isApiAvailable:!1!==e.isApiAvailable,usStates:e.usStates||{},isAmmoRegularMixed:e.isAmmoRegularMixed||!1,isFirearmsRegularMixed:e.isFirearmsRegularMixed||!1,selectedAmmoState:e.selectedAmmoState||"",cartUrl:e.cartUrl||"",fflItemCount:e.fflItemCount||0,regularItemCount:e.regularItemCount||0,hasSavedItems:e.hasSavedItems||!1,savedItemsCount:e.savedItemsCount||0}})(),[t,a]=(0,c.useState)(!1),[h,b]=(0,c.useState)(f),[v,g]=(0,c.useState)(!1),[E,_]=(0,c.useState)(!1),[y,A]=(0,c.useState)(u),{setShippingAddress:C}=(0,n.useDispatch)(r.CART_STORE_KEY),k=(0,n.useSelect)(e=>{const t=e(r.CART_STORE_KEY);return(t.getCustomerData?.()?.shippingAddress||{}).state||""},[]),x=(0,n.useSelect)(e=>e(r.CART_STORE_KEY).getCustomerData?.()?.shippingAddress?.first_name||"",[]),N=(0,n.useSelect)(e=>e(r.CART_STORE_KEY).getCustomerData?.()?.shippingAddress?.last_name||"",[]),S=(0,c.useMemo)(()=>({first_name:x,last_name:N}),[x,N]),F=e.isAmmoOnly&&e.isAmmoEnabled&&""!==k&&e.ammoRestrictedStates.includes(k),M=(0,c.useRef)({required:!1,selected:!1,isAmmoOnly:!1});(0,c.useEffect)(()=>{u=y},[y]),(0,c.useEffect)(()=>{f=h},[h]);const O=(0,c.useCallback)((e,t)=>{try{const a=wp.data.dispatch("wc/store/checkout");a&&"function"==typeof a.setExtensionData?a.setExtensionData(e,t):a&&"function"==typeof a.__internalSetExtensionData&&a.__internalSetExtensionData(e,t)}catch(e){console.error("AutomaticFFL: Could not set extension data",e)}},[]),R=(0,c.useRef)(!1),D=(0,c.useCallback)(t=>{b(t),a(!1),t&&t.fflID&&g(!1),e.isAmmoOnly&&e.isAmmoEnabled&&!y&&A(!0),O("automaticffl",{fflLicense:t.fflID||"",fflExpirationDate:t.expirationDate||"",fflUuid:t.uuid||""});const o=(wp.data.select(r.CART_STORE_KEY).getCustomerData?.()||{}).shippingAddress||{};C({first_name:o.first_name||"",last_name:o.last_name||"",company:t.company||"",address_1:t.address1||"",address_2:t.address2||"",city:t.city||"",state:t.stateOrProvinceCode||"",postcode:t.postalCode||"",country:t.countryCode||"US",phone:t.phone||""})},[O,C,e.isAmmoOnly,e.isAmmoEnabled,y]);if((0,c.useEffect)(()=>{const t=e.hasFirearms&&!e.isMixedCart&&e.isConfigured||y,a=()=>{R.current=t,(()=>{for(const e of w){const a=document.querySelector(e);if(a)if(t){const e=a.querySelector('input[type="checkbox"]')||a;e.checked&&e.click(),a.style.display="none",a.setAttribute("data-ffl-hidden","true")}else"true"===a.getAttribute("data-ffl-hidden")&&(a.style.display="",a.removeAttribute("data-ffl-hidden"))}})()};a();const o=new MutationObserver(e=>{e.some(e=>"childList"===e.type&&e.addedNodes.length>0&&Array.from(e.addedNodes).some(e=>e.nodeType===Node.ELEMENT_NODE&&w.some(t=>e.matches?.(t)||e.querySelector?.(t))))&&a()}),c=document.querySelector(".wc-block-checkout")||document.body;return o.observe(c,{childList:!0,subtree:!0}),t?document.body.classList.add("automaticffl-checkout-active"):document.body.classList.remove("automaticffl-checkout-active"),()=>{if(o.disconnect(),R.current){for(const e of w){const t=document.querySelector(e);t&&"true"===t.getAttribute("data-ffl-hidden")&&(t.style.display="",t.removeAttribute("data-ffl-hidden"))}document.body.classList.remove("automaticffl-checkout-active")}}},[e.hasFirearms,e.isMixedCart,e.isConfigured,y]),(0,c.useEffect)(()=>{const t=wp?.data?.dispatch?.("wc/store/validation");if(!t)return;const{setValidationErrors:a,clearValidationError:o}=t,c="automaticffl-ammo-regular-blocked",n="automaticffl-ffl-required";return e.isAmmoRegularMixed&&e.isAmmoEnabled&&k&&e.ammoRestrictedStates.includes(k)?a({[c]:{message:(0,s.__)("Please modify your cart to continue.","automaticffl-for-wc"),hidden:!0}}):o(c),(e.hasFirearms&&!e.isMixedCart||e.isAmmoOnly&&e.isAmmoEnabled&&(y||F))&&!h?(a({[n]:{message:e.isAmmoOnly?e.i18n?.selectDealerAmmoRequired||(0,s.__)("Please select an FFL dealer. Your state requires ammunition to be shipped to a licensed dealer.","automaticffl-for-wc"):e.i18n?.selectDealerBeforeOrder||(0,s.__)("Please select an FFL dealer before placing your order.","automaticffl-for-wc"),hidden:!0}}),g(!0)):(o(n),g(!1)),()=>{t&&(o(c),o(n))}},[h,e.hasFirearms,e.isMixedCart,e.isAmmoOnly,e.isAmmoEnabled,F,y,e.isAmmoRegularMixed,e.ammoRestrictedStates,e.usStates,k]),(0,c.useEffect)(()=>{const t=e.hasFirearms&&!e.isMixedCart||e.isAmmoOnly&&e.isAmmoEnabled&&(y||F);M.current={required:t,selected:!!h,isAmmoOnly:e.isAmmoOnly}},[h,e.hasFirearms,e.isMixedCart,e.isAmmoOnly,e.isAmmoEnabled,y,F]),(0,c.useEffect)(()=>{const t=wp?.data?.select?.("wc/store/checkout");if(!t)return;const a="automaticffl-ffl-required";let o=!1;const c=wp.data.subscribe(()=>{if(t.isBeforeProcessing?.()||"before_processing"===t.getCheckoutStatus?.())o=!0;else if(o){o=!1;const{required:t,selected:c,isAmmoOnly:n}=M.current;if(t&&!c){const t=wp?.data?.dispatch?.("core/notices");if(t?.createNotice){const o=n?e.i18n?.selectDealerAmmoRequired||(0,s.__)("Please select an FFL dealer. Your state requires ammunition to be shipped to a licensed dealer.","automaticffl-for-wc"):e.i18n?.selectDealerBeforeOrder||(0,s.__)("Please select an FFL dealer before placing your order.","automaticffl-for-wc");t.createNotice("error",o,{context:"wc/checkout",id:a})}}}});return()=>{c();const e=wp?.data?.dispatch?.("core/notices");e?.removeNotice?.(a,"wc/checkout")}},[]),(0,c.useEffect)(()=>{if(h){const e=wp?.data?.dispatch?.("core/notices");e?.removeNotice?.("automaticffl-ffl-required","wc/checkout")}},[h]),(0,c.useEffect)(()=>{!y&&e.isAmmoOnly&&e.isAmmoEnabled&&""!==k&&!e.ammoRestrictedStates.includes(k)&&h&&(b(null),O("automaticffl",{fflLicense:"",fflExpirationDate:"",fflUuid:""}))},[k,e.isAmmoOnly,e.isAmmoEnabled,e.ammoRestrictedStates,h,O,y]),!e.isApiAvailable&&!E)return(0,o.createElement)(p,{onDismiss:()=>_(!0)});if(!e.isApiAvailable&&E)return null;if(!e.hasFirearms&&!e.hasAmmo&&!e.hasFflProducts)return null;if(e.isFirearmsRegularMixed)return(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-error"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v5h-2V8zm0 6h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},(0,s.__)("Firearms must be shipped to an FFL dealer and cannot be combined with regular products.","automaticffl-for-wc"),(0,o.createElement)(d.A,{fflCount:e.fflItemCount,regularCount:e.regularItemCount}))));if(e.isAmmoRegularMixed&&e.isAmmoEnabled){const t=k&&e.ammoRestrictedStates.includes(k),a=e.usStates[k]||k;return t?(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-error"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v5h-2V8zm0 6h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},(0,s.__)("Ammunition and regular products in your cart require separate orders for shipping to","automaticffl-for-wc")," ",a,".",(0,o.createElement)(d.A,{fflCount:e.fflItemCount,regularCount:e.regularItemCount})))):null}if(e.isMixedCart&&!e.isFirearmsRegularMixed&&!e.isAmmoRegularMixed)return(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-error"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v5h-2V8zm0 6h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},(0,s.__)("FFL products and regular products cannot be purchased together.","automaticffl-for-wc"),(0,o.createElement)(d.A,{fflCount:e.fflItemCount,regularCount:e.regularItemCount}))));if(e.isAmmoOnly&&e.isAmmoEnabled&&!y)return k?F?e.isConfigured?(0,o.createElement)("div",{className:"automaticffl-dealer-selection"},(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-info"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v6h-2V8zm0 8h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},e.i18n?.selectDealerBelow||(0,s.__)("FFL dealer selection is required for ammunition shipping to your state. Please select a dealer below.","automaticffl-for-wc")))),h&&(0,o.createElement)(m.A,{dealer:h,userName:S}),(0,o.createElement)("button",{type:"button",className:"wc-block-components-button wp-element-button ffl-search-button",onClick:()=>a(!0)},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",fill:"currentColor","aria-hidden":"true",style:{verticalAlign:"middle",marginRight:"8px"}},(0,o.createElement)("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})),h?(0,s.__)("Change Dealer","automaticffl-for-wc"):(0,s.__)("Find a Dealer","automaticffl-for-wc")),t&&(0,o.createElement)(i.A,{iframeUrl:e.iframeUrl,allowedOrigins:e.allowedOrigins,onSelect:D,onClose:()=>a(!1)})):(0,o.createElement)("div",{className:"automaticffl-dealer-selection"},(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-error"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},e.i18n?.fflNotConfiguredContact||(0,s.__)("FFL dealer selection is required for ammunition shipping to your state, but is not configured. Please contact the site administrator.","automaticffl-for-wc"))))):null:(0,o.createElement)("div",{className:"automaticffl-ammo-notice"},(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-info"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v6h-2V8zm0 8h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},e.i18n?.ammoSelectState||(0,s.__)("You have ammunition in your cart. Please select your shipping state to determine shipping options.","automaticffl-for-wc")))));if(!e.isConfigured)return(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-error"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},(0,s.__)("FFL dealer selection is not configured. Please contact the site administrator.","automaticffl-for-wc"))));const L=!(y&&h),z=y?(0,s.__)("Your state requires ammunition to be shipped to a licensed FFL dealer. Please select a dealer below.","automaticffl-for-wc"):(0,s.__)("You have a firearm in your cart and must choose a Licensed Firearm Dealer (FFL) for the Shipping Address.","automaticffl-for-wc");return(0,o.createElement)("div",{className:"automaticffl-dealer-selection"},L&&(0,o.createElement)("div",{className:"wc-block-components-notices"},(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-info"},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.2-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.2 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 8h2v6h-2V8zm0 8h2v2h-2v-2z"})),(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},z))),h&&(0,o.createElement)(m.A,{dealer:h,userName:S}),(0,o.createElement)("button",{type:"button",className:"wc-block-components-button wp-element-button ffl-search-button",onClick:()=>a(!0)},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",fill:"currentColor","aria-hidden":"true",style:{verticalAlign:"middle",marginRight:"8px"}},(0,o.createElement)("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})),h?(0,s.__)("Change Dealer","automaticffl-for-wc"):(0,s.__)("Find a Dealer","automaticffl-for-wc")),t&&(0,o.createElement)(i.A,{iframeUrl:e.iframeUrl,allowedOrigins:e.allowedOrigins,onSelect:D,onClose:()=>a(!1)}))}},334(e,t,a){a.d(t,{A:()=>s});var o=a(609),c=a(723);const s=({dealer:e,userName:t})=>{const a=[e.address1,e.city,e.stateOrProvinceCode].filter(Boolean).join(", "),s=(e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 10===t.length?`(${t.slice(0,3)})-${t.slice(3,6)}-${t.slice(6)}`:e})(e.phone),n=`${t.first_name} ${t.last_name}`;return(0,o.createElement)("div",{id:"automaticffl-dealer-selected",className:"automaticffl-dealer-selected"},(0,o.createElement)("p",null,(0,c.__)("Your order will be shipped to","automaticffl-for-wc"),":"),(0,o.createElement)("div",{id:"ffl-selected-dealer",className:"ffl-result-body"},(0,o.createElement)("p",{className:"customer-name"},n),(0,o.createElement)("p",{className:"dealer-name"},e.company||""),(0,o.createElement)("p",{className:"dealer-address"},a),e.phone&&(0,o.createElement)("a",{href:`tel:${e.phone}`},(0,o.createElement)("p",null,(0,o.createElement)("span",{className:"dealer-phone dealer-phone-formatted"},s)))))}},455(e){e.exports=window.wp.apiFetch},592(e,t,a){a.d(t,{A:()=>n});var o=a(609),c=a(87),s=a(795);const n=({iframeUrl:e,allowedOrigins:t,onSelect:a,onClose:n})=>{const r=(0,c.useCallback)(e=>{if(t.includes(e.origin)){if(e.data&&"dealerUpdate"===e.data.type){const t=e.data.value;t&&a(t)}e.data&&"closeModal"===e.data.type&&n()}},[t,a,n]),l=(0,c.useCallback)(e=>{"Escape"===e.key&&n()},[n]),i=(0,c.useCallback)(e=>{e.target===e.currentTarget&&n()},[n]);(0,c.useEffect)(()=>{window.addEventListener("message",r),document.addEventListener("keydown",l);const e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{window.removeEventListener("message",r),document.removeEventListener("keydown",l),document.body.style.overflow=e}},[r,l]);const m=(0,o.createElement)("div",{className:"automaticffl-dealer-layer visible",onClick:i,role:"dialog","aria-modal":"true","aria-label":"FFL Dealer Selection"},(0,o.createElement)("div",{className:"dealers-container"},(0,o.createElement)("iframe",{id:"automaticffl-map-iframe",src:e,title:"FFL Dealer Selection",style:{width:"100%",height:"100%",border:"none"}})));return(0,s.createPortal)(m,document.body)}},594(e){e.exports=window.wc.wcBlocksData},609(e){e.exports=window.React},703(e){e.exports=window.wc.wcSettings},723(e){e.exports=window.wp.i18n},795(e){e.exports=window.ReactDOM},953(e,t,a){a.d(t,{A:()=>l});var o=a(609),c=a(87),s=a(723),n=a(455),r=a.n(n);const l=({fflCount:e,regularCount:t,onSaved:a})=>{const[n,l]=(0,c.useState)(!1),[i,m]=(0,c.useState)(null),d=async e=>{l(!0),m(null);try{const t=await r()({path:"/automaticffl/v1/save-for-later",method:"POST",data:{item_type:e}});t.success?("function"==typeof a&&a(t),window.location.reload()):(m(t.message||(0,s.__)("Failed to save items.","automaticffl-for-wc")),l(!1))}catch(e){m(e.message||(0,s.__)("An error occurred. Please try again.","automaticffl-for-wc")),l(!1)}};return(0,o.createElement)("div",{className:"automaticffl-blocks-save-for-later"},(0,o.createElement)("p",{className:"automaticffl-blocks-save-prompt"},(0,s.__)("Choose which items to save for your next order:","automaticffl-for-wc")),i&&(0,o.createElement)("div",{className:"wc-block-components-notice-banner is-error",style:{marginBottom:"12px"}},(0,o.createElement)("div",{className:"wc-block-components-notice-banner__content"},i)),(0,o.createElement)("div",{className:"automaticffl-blocks-save-buttons"},(0,o.createElement)("button",{type:"button",className:"wc-block-components-button wp-element-button automaticffl-blocks-save-btn automaticffl-blocks-save-btn--primary",onClick:()=>d("ffl"),disabled:n},n?(0,s.__)("Saving...","automaticffl-for-wc"):1===e?(0,s.__)("FFL item (1)","automaticffl-for-wc"):`${(0,s.__)("FFL items","automaticffl-for-wc")} (${e})`),(0,o.createElement)("button",{type:"button",className:"wc-block-components-button wp-element-button automaticffl-blocks-save-btn automaticffl-blocks-save-btn--secondary",onClick:()=>d("regular"),disabled:n},n?(0,s.__)("Saving...","automaticffl-for-wc"):1===t?(0,s.__)("Regular item (1)","automaticffl-for-wc"):`${(0,s.__)("Regular items","automaticffl-for-wc")} (${t})`)),(0,o.createElement)("p",{className:"automaticffl-blocks-save-help"},(0,s.__)("Saved items will be restored to your cart after checkout.","automaticffl-for-wc")))}}},t={};function a(o){var c=t[o];if(void 0!==c)return c.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=a(609),c=a(0),s=a(279),n=a(289);(0,s.registerPlugin)("automaticffl-dealer-selection",{render:()=>(0,o.createElement)(c.ExperimentalOrderShippingPackages,null,(0,o.createElement)(n.A,null)),scope:"woocommerce-checkout"})})();
//# sourceMappingURL=ffl-dealer-selection-frontend.js.map